<script>
    document.addEventListener("DOMContentLoaded", function () {
        const urlParams = new URLSearchParams(window.location.search);
        const token = urlParams.get("token");
        const logout = urlParams.get("logout");
        if (token) {
            if (typeof localStorage !== "undefined") {
                localStorage.setItem("token", token);
            }

            // Optionally remove the token from the URL
            const currentPath = window.location.pathname;
            window.history.replaceState({}, document.title, currentPath);
        } else if (logout) {
            if (typeof localStorage !== "undefined") {
                localStorage.removeItem("token");
            }
        }
    });
</script>
